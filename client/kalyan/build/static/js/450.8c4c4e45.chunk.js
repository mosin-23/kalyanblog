"use strict";(self.webpackChunkkalyan=self.webpackChunkkalyan||[]).push([[450],{450:(e,l,t)=>{t.r(l),t.d(l,{default:()=>d});var o=t(555),r=t(43),s=t(722),a=t(580),i=t(115),n=(t(342),t(579));s.A.defaults.baseURL="https://kalyanblog.onrender.com/kalyan";const d=e=>{let{setIsLogged:l}=e;const[t,d]=(0,r.useState)({title:"",description:"",category:"",images:[""],links:[""],bid:""}),[c,m]=(0,r.useState)(!1),b=(0,a.Zp)(),u=(e,l,r)=>{const{name:s,value:a}=e.target;if("images"===r){const e=[...t.images];e[l]=a,d((0,o.A)((0,o.A)({},t),{},{images:e}))}else if("links"===r){const e=[...t.links];e[l]=a,d((0,o.A)((0,o.A)({},t),{},{links:e}))}else d((0,o.A)((0,o.A)({},t),{},{[s]:a}))},g=e=>{"images"===e?d((0,o.A)((0,o.A)({},t),{},{images:[...t.images,""]})):"links"===e&&d((0,o.A)((0,o.A)({},t),{},{links:[...t.links,""]}))},h=()=>{i.oR.error("Error Creating Blog Post!",{position:"top-center"})},p=()=>{i.oR.success("Blog Post Successfully Created!",{position:"top-center"})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex flex-row justify-center items-center",children:(0,n.jsxs)("div",{className:"CreateBlog flex flex-col mt-8 border border-2 py-4 rounded-lg border-teal-300 hover:shadow-teal-400 max-w-fit px-10 ml-28 hover:shadow-lg hover:shadow-emerald-400 mb-10 hover:border-2 hover:border-purple-400",children:[(0,n.jsx)("div",{className:"flex flex-row justify-center",children:(0,n.jsx)("h1",{className:"font-bold mb-4 mr-2",children:"Create a Blog Post"})}),(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault(),t.title&&t.description&&t.category&&t.images.length>0&&t.bid?(async()=>{m(!0);try{await s.A.post("/addblog",{title:t.title,description:t.description,category:t.category,images:t.images,links:t.links,bid:t.bid}),p()}catch(e){console.error("Error Creating Blog Post",e),h()}finally{m(!1)}})():i.oR.error("Please fill all required fields to create a blog post.",{position:"top-center"})},children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsxs)("div",{className:"w-fit",children:[(0,n.jsx)("label",{htmlFor:"title",className:"block mb-1 font-medium",children:"Title"}),(0,n.jsx)("input",{type:"text",name:"title",id:"title",placeholder:"Enter Blog Title",className:"border border-2 w-full px-2 py-1 rounded-md focus:outline-blue-500",value:t.title,onChange:u})]}),(0,n.jsxs)("div",{className:"w-fit",children:[(0,n.jsx)("label",{htmlFor:"category",className:"block mb-1 font-medium",children:"Category"}),(0,n.jsx)("input",{type:"text",name:"category",id:"category",placeholder:"Enter Category",className:"border border-2 w-full px-2 py-1 rounded-md focus:outline-blue-500",value:t.category,onChange:u})]}),t.images.map(((e,l)=>(0,n.jsxs)("div",{className:"w-fit",children:[(0,n.jsxs)("label",{htmlFor:"image-".concat(l),className:"block mb-1 font-medium",children:["Image URL ",l+1]}),(0,n.jsx)("input",{type:"text",name:"image",id:"image-".concat(l),placeholder:"Enter Image URL",className:"border border-2 w-full px-2 py-1 rounded-md focus:outline-blue-500",value:e,onChange:e=>u(e,l,"images")})]},l))),(0,n.jsx)("button",{type:"button",onClick:()=>g("images"),className:"border border-2 px-4 py-2 mt-2 bg-teal-500 rounded-xl hover:bg-teal-600 text-white",children:"Add Another Image"}),t.links.map(((e,l)=>(0,n.jsxs)("div",{className:"w-fit",children:[(0,n.jsxs)("label",{htmlFor:"link-".concat(l),className:"block mb-1 font-medium",children:["Link URL ",l+1]}),(0,n.jsx)("input",{type:"text",name:"link",id:"link-".concat(l),placeholder:"Enter Link URL",className:"border border-2 w-full px-2 py-1 rounded-md focus:outline-blue-500",value:e,onChange:e=>u(e,l,"links")})]},l))),(0,n.jsx)("button",{type:"button",onClick:()=>g("links"),className:"border border-2 px-4 py-2 mt-2 bg-teal-500 rounded-xl hover:bg-teal-600 text-white",children:"Add Another Link"}),(0,n.jsxs)("div",{className:"w-fit",children:[(0,n.jsx)("label",{htmlFor:"bid",className:"block mb-1 font-medium",children:"Bid Amount"}),(0,n.jsx)("input",{type:"number",name:"bid",id:"bid",placeholder:"Enter Bid Amount",className:"border border-2 w-full px-2 py-1 rounded-md focus:outline-blue-500",value:t.bid,onChange:u,min:"0"})]}),(0,n.jsxs)("div",{className:"w-fit",children:[(0,n.jsx)("label",{htmlFor:"content",className:"block mb-1 font-medium",children:"Content"}),(0,n.jsx)("textarea",{name:"description",id:"description",placeholder:"Enter Blog Content",className:"border border-2 w-full px-2 py-1 rounded-md focus:outline-blue-500",value:t.description,onChange:u})]}),(0,n.jsx)("button",{className:"border border-2 px-4 py-2 mt-4 ".concat(c?"bg-gray-500":"bg-emerald-500"," rounded-xl hover:bg-emerald-600 text-white"),disabled:c,children:c?"Creating...":"Create Blog Post"})]})})]})}),(0,n.jsx)(i.N9,{}),(0,n.jsx)("button",{onClick:()=>{localStorage.removeItem("success"),b("/admin/login")},className:"flex  px-4 py-2 mt-4 bg-red-500 rounded-xl hover:bg-red-600 text-white items-center",children:"Logout"})]})}}}]);
//# sourceMappingURL=450.8c4c4e45.chunk.js.map